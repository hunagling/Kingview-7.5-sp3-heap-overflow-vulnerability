# Kingview-7.5-sp3-heap-overflow-vulnerability
reference
Kingview7.5 sp3 Touchvew.exe that manages port 8089 webservice services uses the soap protocol.The strcpy() function is used when parsing http GET requests, which has a heap overflow vulnerability.

1. Install KingView7.5 SP3
2. Install the Configurator driver
3. Use the demo that comes with the program to switch to the development system.
4. Run any project as shown in the figure：

![1701959933669](https://github.com/hunagling/Kingview-7.5-sp3-heap-overflow-vulnerability/assets/30653530/062350f2-d53b-4e3f-8917-95b04d58ac4a)

   
![1701959679217](https://github.com/hunagling/Kingview-7.5-sp3-heap-overflow-vulnerability/assets/30653530/14e0c5e5-b0ae-45a2-a1c1-7da38148ef83)


Causes of vulnerabilities：
The cause of the vulnerability is that after parsing the HTTP get request, it enters the processing function of the get request, first a 0x100-sized heap block space is new, and then the strcpy function is used to copy strings, if there is no 0x00 in the character to truncate the copy of the strcpy function, it will cause the copied data to overflow the heap and form a heap overflow

![1701957529056](https://github.com/hunagling/Kingview-7.5-sp3-heap-overflow-vulnerability/assets/30653530/32160ecb-c9c2-4c18-a088-b6b46cfd9e3b)

Running on a physical machine poc.py the program will crash on its own after ejecting the calculator (the shellcode contains the heap block address)




Showcase the video

https://github.com/hunagling/Kingview-7.5-sp3-heap-overflow-vulnerability/assets/30653530/5fc96edc-971c-46dc-a6f0-b65ea1389879

